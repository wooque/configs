#!/usr/bin/env python2

import sys
import BaseHTTPServer
from SimpleHTTPServer import SimpleHTTPRequestHandler


class Handler(SimpleHTTPRequestHandler):
    try_index = False

    def send_error(self, code, message=None):
        if code == 404 and not self.try_index:
            self.try_index = True
            self.path = '/index.html'
            self.do_GET()
        else:
            SimpleHTTPRequestHandler.send_error(self, code, message)


if __name__ == '__main__':
    if len(sys.argv) == 1:
        sys.argv.append(8080)
    BaseHTTPServer.test(Handler)
